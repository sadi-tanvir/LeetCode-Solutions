<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>978. Longest Turbulent Subarray</title>
</head>

<body>
    <h1>978. Longest Turbulent Subarray</h1>

    <!-- https://leetcode.com/problems/longest-turbulent-subarray/description/ -->

    <script>


        // updated solution
        var maxTurbulenceSize = function (arr) {
            let n = arr.length;
            if (arr.length === 1) return n;
            let max = 1, cur = 1, start = 1;

            while (start < n) {
                if (arr[start] < arr[start - 1]) {
                    cur += 1;
                    max = Math.max(max, cur);
                    if (arr[start] > arr[start + 1]) cur = 1;
                } else if (arr[start] > arr[start - 1]) {
                    cur += 1;
                    max = Math.max(cur, max);
                    if (arr[start] < arr[start + 1]) cur = 1;
                } else {
                    cur = 0;
                    if (arr[start] != arr[start + 1]) cur = 1;
                };

                start++;
            };

            return max;
        };


        // previous solution
        /* var maxTurbulenceSize = function (arr) {
            let count = 1;
            let cur = 1;
            let n = arr.length;
            for (let i = 0; i <= n - 2; i++) {
                if (arr[i] === arr[i + 1]) {
                    cur = 1;
                } else if (arr[i] > arr[i + 1]) {
                    if (arr[i - 1] < arr[i]) {
                        cur++;
                    } else {
                        cur = 2;
                    };
                } else {
                    if (arr[i - 1] > arr[i]) {
                        cur++;
                    } else {
                        cur = 2;
                    };
                }
                count = Math.max(count, cur);
            }

            return count
        }; */

        console.log(maxTurbulenceSize([9, 4, 2, 10, 7, 8, 8, 1, 9]))
        console.log(maxTurbulenceSize([4, 8, 12, 16]))
        console.log(maxTurbulenceSize([100]))
        console.log(maxTurbulenceSize([100, 100, 100]))

    </script>
</body>

</html>